<app-alert 
*ngIf="result"
(closeAlert)="onHandleAlert()"
[message]="result">
</app-alert>
<h3 class="text-info">Create New User</h3>
<hr />
<form (ngSubmit)="onSubmit()" #f="ngForm">
  <div class="form-group">
    <div class="row">
      <div class="col-md-4">
        <div class="row">
          <label for="firstName">First Name</label>
        </div>
        <div class="row">
          <input
            type="text"
            maxlength="15"
            required
            id="firstName"
            name="firstName"
            ngModel
            class="form-control"
            #firstName="ngModel"
            appNameValidator
          />
          <span class="help-block" *ngIf="!firstName.valid && firstName.touched"
            >Invalid First Name</span
          >
        </div>
      </div>

      <div class="col-md-4">
        <div class="row">
          <label for="middleName">Middle Name</label>
        </div>
        <div class="row">
          <input
            #middleName="ngModel"
            id="middleName"
            name="middleName"
            ngModel
            class="form-control"
            appNameValidator
          />
          <span
            class="help-block"
            *ngIf="!middleName.valid && middleName.touched"
            >Invalid Middle Name</span
          >
        </div>
      </div>

      <div class="col-md-4">
        <div class="row">
          <label for="lastName">Last Name</label>
        </div>
        <div class="row">
          <input
            id="lastName"
            name="lastName"
            ngModel
            class="form-control"
            #lastName="ngModel"
            required
            appNameValidator
          />
          <span class="help-block" *ngIf="!lastName.valid && lastName.touched"
            >Invalid Last Name</span
          >
        </div>
      </div>
    </div>

    <hr />
    <div class="row">
      <div class="col-md-2">
        <label for="email">Email</label>
      </div>
      <div class="col-md-10">
        <input
          ngModel
          name="email"
          class="form-control"
          id="email"
          type="email"
          placeholder="helloworld@gmail.com"
          #email="ngModel"
          email
          required
        />
        <span class="help-block" *ngIf="!email.valid && email.touched"
          >Please Enter Valid Email</span
        >
      </div>
    </div>
    <hr />
    <div class="row">
      <div class="col-md-3">
        <label for="phoneNumber">Phone Number </label>
      </div>
      <div class="col-md-9">
        <input
          ngModel
          name="phoneNumber"
          id="phoneNumber"
          type="text"
          placeholder="Format: +91-8888888888"
          class="form-control"
          required
          #phoneNumber="ngModel"
          appPhoneNumberValidator
        />
        <span
          class="help-block"
          *ngIf="!phoneNumber.valid && phoneNumber.touched"
        >
          Please Enter Valid Phone Number</span
        >
      </div>
    </div>
    <hr />
    <div class="row">
      <div class="col-md-6">
        <div class="row">
          <label for="role">Role</label>
        </div>
        <div class="row">
          <select
            required
            ngModel
            class="form-control"
            [ngModel]="defaultRole"
            name="empRoleId"
            id="empRoleId"
          >
            <option *ngFor="let role of roles" value="{{ role.id }}">{{
              role.roleName
            }}</option>
          </select>
        </div>
      </div>
      <div class="col-md-6">
        <div class="row">
          <label for="customer">Customer</label>
        </div>
        <div class="row">
          <select
            [ngModel]="defaultCustomer"
            ngModel
            class="form-control"
            name="customerId"
            required
            id="customerId"
          >
            <option
              *ngFor="let customer of customers"
              value="{{ customer.id }}"
              >{{ customer.name }}</option
            >
          </select>
        </div>
      </div>
    </div>

    <hr />
    <div class="row">
      <label for="address">Address</label>
    </div>

    <div class="row form-group">
      <textarea
        ngModel
        name="address"
        rows="3"
        class="form-control"
        required
        #address="ngModel"
      ></textarea>
      <span class="help-block" *ngIf="!address.valid && address.touched"></span>
    </div>
    <button
      [ngStyle]="{ cursor: !f.valid ? 'not-allowed' : 'pointer' }"
      [disabled]="!f.valid"
      type="submit"
      class="btn btn-primary btn-md float-right"
    >
      Create User
    </button>
  </div>
</form>
